<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body, html {
            height: 100%;
            margin: 0;
        }


        .bg {
            /* The image used */
            background-image: url("assets/img/museumModernLook-02-NC.jpg");
            /* Full height */
            height: 100%;
            /* Center and scale the image nicely */
            background-position: center;
            background-repeat: no-repeat;
            background-size: 100% 100%; /*cover; */
            /* background-attachment: fixed; */
        }


        .overlay-image {
            position: absolute; /* Positions relative to the container */
            top: 33.2%; /* 340/1024 */
            left: 29.1%; /* 298/1024 */
            height: 30.67%; /* (645-340)/1024 */
            width: 41.8%; /* (726-298)/1024 */
        }

        .label-image {
            position: absolute; /* Positions relative to the container */
            top: 50.6%; /* 600/1024 */
            left: 16.6%; /* 150/1024 */
            height: 10%; /* (645-340)/1024 */
            width: 7%; /* (726-298)/1024 */
        }

        /* avoid a ghost button shown at the border */
        button {
            border: none;
            cursor: pointer;
            appearance: none;
            background-color: inherit;
        }

    </style>
</head>
<body>

    <div class="bg">
        <button type=button onclick='test()'>
            <img src="assets/img/T02m11s0-001.jpg" alt="Description of the image" class="overlay-image" id="imageArea">
        </button>
    </div>

    <script>
        img = document.getElementById("labelArea");

        function enlargeImg() {
            img.style.transform = "scale(5.5)";
            img.style.transition = "transform 0.25s ease";
        }

        // Function to reset image size
        function resetImg() {
            img.style.transform = "scale(1)";
            img.style.transition = "transform 0.25s ease";
        }

        // Returns the ISO week of the date.
        function weekOfTheYear(date) {
            //var date = new Date(this.getTime());
            date.setHours(0, 0, 0, 0);
            // Thursday in current week decides the year.
            date.setDate(date.getDate() + 3 - (date.getDay() + 6) % 7);
            // January 4 is always in week 1.
            var week1 = new Date(date.getFullYear(), 0, 4);
            // Adjust to Thursday in week 1 and count number of weeks from date to week1.
            return 1 + Math.round(((date.getTime() - week1.getTime()) / 86400000
                - 3 + (week1.getDay() + 6) % 7) / 7);
        }

        function test() {
            const xxx = new Date()
            let hour = xxx.getHours()
            if (hour > 12) hour -= 12
            if (hour == 0) hour = 12;
            //let imgfile = 'img' + (hour * 60 + xxx.getMinutes()) + '.jpg'
            let m = xxx.getMinutes();
            m = checkTime(m);
            hour = checkTime(hour);
            weekInYear = weekOfTheYear(xxx);
            if (weekInYear == 53) weekInYear = 52;

            //imageArea.src = "assets/img/img_1_big.jpg"
            //let ic = (xxx.getSeconds() % 6) + 1  //1 to 6
            //imageArea.src = "assets/img/T18m10s1/T18m10s1-" + hour + "-" + m + ".jpg"
            if ((weekInYear % 2) != 0)
                imageArea.src = "assets/img/EvenWeek/img-" + hour + "-" + m + ".jpg"
            else
                imageArea.src = "assets/img/OddWeek/img-" + hour + "-" + m + ".jpg"
            setTimeout(test, 60000);  //one minute
        }
        function checkTime(i) {
            if (i < 10) { i = "0" + i };  // add zero in front of numbers < 10
            return i;
        }

    </script>

</body>
</html>